name: reward-deposited-non-exists

parameters:
  snapshottedAccounts: []
  snapshottedNftClasses: []
  snapshottedStakings: []

steps:
  - events:
    - type: rewardDeposited
      rewardDepositedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 100
    error: nft class not found

---

name: reward-deposited-existing

parameters:
  snapshottedAccounts:
    - address: 0x2000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 0
      claimedRewardAmount: 0
  snapshottedNftClasses:
    - address: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
    - address: 0x1000000000000000000000000000000000000002
      stakedAmount: 2
  snapshottedStakings:
    - accountAddress: 0x2000000000000000000000000000000000000001
      bookNFTAddress: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 0
      claimedRewardAmount: 0
    - accountAddress: 0x2000000000000000000000000000000000000001
      bookNFTAddress: 0x1000000000000000000000000000000000000002
      stakedAmount: 2
      pendingRewardAmount: 0
      claimedRewardAmount: 0

steps:
  - events:
    - type: rewardDeposited
      rewardDepositedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 2
    - type: rewardDeposited
      rewardDepositedEventData:
        bookNFT: 0x1000000000000000000000000000000000000002
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 2
    stakingstate:
      accounts:
        0x2000000000000000000000000000000000000001:
          address: 0x2000000000000000000000000000000000000001
          stakedAmount: 100
          pendingRewardAmount: 4
          claimedRewardAmount: 0
      nftClasses:
        0x1000000000000000000000000000000000000001:
          address: 0x1000000000000000000000000000000000000001
          stakedAmount: 100
        0x1000000000000000000000000000000000000002:
          address: 0x1000000000000000000000000000000000000002
          stakedAmount: 2
      stakings:
        0x2000000000000000000000000000000000000001:
          0x1000000000000000000000000000000000000001:
            accountAddress: 0x2000000000000000000000000000000000000001
            bookNFTAddress: 0x1000000000000000000000000000000000000001
            stakedAmount: 100
            pendingRewardAmount: 2
            claimedRewardAmount: 0
          0x1000000000000000000000000000000000000002:
            accountAddress: 0x2000000000000000000000000000000000000001
            bookNFTAddress: 0x1000000000000000000000000000000000000002
            stakedAmount: 2
            pendingRewardAmount: 2
            claimedRewardAmount: 0
    processedStakingEvents:
      - type: rewardDeposited
        rewardDepositedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 2
      - type: rewardDepositDistributed
        rewardDepositDistributedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 2
      - type: rewardDeposited
        rewardDepositedEventData:
          bookNFT: 0x1000000000000000000000000000000000000002
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 2
      - type: rewardDepositDistributed
        rewardDepositDistributedEventData:
          bookNFT: 0x1000000000000000000000000000000000000002
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 2

---

name: reward-deposited-multiple-stakings

parameters:
  snapshottedAccounts:
    - address: 0x2000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 0
      claimedRewardAmount: 0
    - address: 0x2000000000000000000000000000000000000002
      stakedAmount: 50
      pendingRewardAmount: 0
      claimedRewardAmount: 0
  snapshottedNftClasses:
    - address: 0x1000000000000000000000000000000000000001
      stakedAmount: 150
  snapshottedStakings:
    - accountAddress: 0x2000000000000000000000000000000000000001
      bookNFTAddress: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 0
      claimedRewardAmount: 0
    - accountAddress: 0x2000000000000000000000000000000000000002
      bookNFTAddress: 0x1000000000000000000000000000000000000001
      stakedAmount: 50
      pendingRewardAmount: 0
      claimedRewardAmount: 0

steps:
  - events:
    - type: rewardDeposited
      rewardDepositedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x9999999999999999999999999999999999999999
        rewardAmount: 3
    stakingstate:
      accounts:
        0x2000000000000000000000000000000000000001:
          address: 0x2000000000000000000000000000000000000001
          stakedAmount: 100
          pendingRewardAmount: 2
          claimedRewardAmount: 0
        0x2000000000000000000000000000000000000002:
          address: 0x2000000000000000000000000000000000000002
          stakedAmount: 50
          pendingRewardAmount: 1
          claimedRewardAmount: 0
      nftClasses:
        0x1000000000000000000000000000000000000001:
          address: 0x1000000000000000000000000000000000000001
          stakedAmount: 150
      stakings:
        0x2000000000000000000000000000000000000001:
          0x1000000000000000000000000000000000000001:
            accountAddress: 0x2000000000000000000000000000000000000001
            bookNFTAddress: 0x1000000000000000000000000000000000000001
            stakedAmount: 100
            pendingRewardAmount: 2
            claimedRewardAmount: 0
        0x2000000000000000000000000000000000000002:
          0x1000000000000000000000000000000000000001:
            accountAddress: 0x2000000000000000000000000000000000000002
            bookNFTAddress: 0x1000000000000000000000000000000000000001
            stakedAmount: 50
            pendingRewardAmount: 1
            claimedRewardAmount: 0

    processedStakingEvents:
      - type: rewardDeposited
        rewardDepositedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x9999999999999999999999999999999999999999
          rewardAmount: 3
      - type: rewardDepositDistributed
        rewardDepositDistributedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 2
      - type: rewardDepositDistributed
        rewardDepositDistributedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x2000000000000000000000000000000000000002
          rewardAmount: 1
