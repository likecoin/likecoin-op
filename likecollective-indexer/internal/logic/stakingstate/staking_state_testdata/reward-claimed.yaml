name: reward-claimed

parameters:
  snapshottedAccounts:
    - address: 0x2000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 100
      claimedRewardAmount: 0
  snapshottedNftClasses:
    - address: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
  snapshottedStakings:
    - accountAddress: 0x2000000000000000000000000000000000000001
      bookNFTAddress: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 100
      claimedRewardAmount: 0

steps:
  - events:
    - type: rewardClaimed
      rewardClaimedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 10
    stakingstate:
      accounts:
        0x2000000000000000000000000000000000000001:
          address: 0x2000000000000000000000000000000000000001
          stakedAmount: 100
          pendingRewardAmount: 90
          claimedRewardAmount: 10
      nftClasses:
        0x1000000000000000000000000000000000000001:
          address: 0x1000000000000000000000000000000000000001
          stakedAmount: 100
      stakings:
        0x2000000000000000000000000000000000000001:
          0x1000000000000000000000000000000000000001:
            accountAddress: 0x2000000000000000000000000000000000000001
            bookNFTAddress: 0x1000000000000000000000000000000000000001
            stakedAmount: 100
            pendingRewardAmount: 90
            claimedRewardAmount: 10
    processedStakingEvents:
      - type: rewardClaimed
        rewardClaimedEventData:
          bookNFT: 0x1000000000000000000000000000000000000001
          account: 0x2000000000000000000000000000000000000001
          rewardAmount: 10

---

name: reward-claimed-notexists

parameters:
  snapshottedAccounts: []
  snapshottedNftClasses: []
  snapshottedStakings: []

steps:
  - events:
    - type: rewardClaimed
      rewardClaimedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 10
    error: account not found

---

name: reward-claimed-negative

parameters:
  snapshottedAccounts:
    - address: 0x2000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 10
      claimedRewardAmount: 0
  snapshottedNftClasses:
    - address: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
  snapshottedStakings:
    - accountAddress: 0x2000000000000000000000000000000000000001
      bookNFTAddress: 0x1000000000000000000000000000000000000001
      stakedAmount: 100
      pendingRewardAmount: 10
      claimedRewardAmount: 0

steps:
  - events:
    - type: rewardClaimed
      rewardClaimedEventData:
        bookNFT: 0x1000000000000000000000000000000000000001
        account: 0x2000000000000000000000000000000000000001
        rewardAmount: 11
    error: pending reward amount is less than pending reward amount removed
